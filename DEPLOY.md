# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ FTP-—Å–µ—Ä–≤–µ—Ä —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –¥–≤–∞ —Å—É–±–¥–æ–º–µ–Ω–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–ª–æ—è

- **Frontend**: `frontend/dist/` ‚Üí `/phi.nagiyev.com` –Ω–∞ FTP
- **Backend**: `backend/` ‚Üí `/api.phi.nagiyev.com` –Ω–∞ FTP

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

## –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –∫–æ—Ä–æ—Ç–∫–∏–º –∑–∞–ø—Ä–æ—Å–∞–º

### "–±–∏–ª–¥/—Ñ—Ç–ø"

1. –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ FTP.

### "—Ñ—É–ª-–ø—É—à"

–ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏ –∏ –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.

#### –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç –≤–µ—Ä—Å–∏–∏ –∏ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

   ```bash
   npm run version:status
   ```

   –ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç:
   - –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –∏–∑ `BUILDS.txt`
   - —á–∏—Å–ª–æ –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞
   - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—É—é —Å–ª–µ–¥—É—é—â—É—é –≤–µ—Ä—Å–∏—é

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–µ–ª–∏–∑**

   ```bash
   npm run release:prepare
   ```

   –ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤–µ—Ä—Å–∏—é –≤ `package.json` –∏ `frontend/package.json`
   - –æ–±–Ω–æ–≤–ª—è–µ—Ç `frontend/package-lock.json`
   - –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ `BUILDS.txt` –∏–∑ –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ—Å–ª–µ –ø—Ä–æ—à–ª–æ–≥–æ —Ä–µ–ª–∏–∑–∞
   - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç `DEVLOG.md`

3. **–°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**

   ```bash
   cd frontend
   npm run build
   cd ..
   ```

4. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ FTP**
   - –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ Vite –ø–ª–∞–≥–∏–Ω
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: `npm run deploy:frontend`

5. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –±—ç–∫–µ–Ω–¥ –Ω–∞ FTP**

   ```bash
   npm run deploy:backend
   ```

6. **–°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç**

   ```bash
   git add .
   git commit -m "–í–µ—Ä—Å–∏—è X.X.XXX: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   ```

   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ –∏–∑ `package.json`
   - –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

7. **–°–¥–µ–ª–∞—Ç—å push –Ω–∞ git**
   ```bash
   git push
   ```

#### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –≤ BUILDS.txt (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é):

```markdown
## 1.0.XXX

- Date: YYYY-MM-DD
- Status: released
- Changes:
  1. –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è 1
  2. –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è 2
  3. –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è 3
```

#### –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

- ‚úÖ –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ —Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –í–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–æ–º–µ—Ä–∞)
- ‚úÖ –ö–æ–º–º–∏—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- ‚úÖ –ü–æ—Å–ª–µ push –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚ö†Ô∏è –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `secrets/ftp.json` (–æ–Ω –≤ `.gitignore`)
- ‚ö†Ô∏è –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ `node_modules`

> **üö® –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±**
>
> **–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã ‚Äî `frontend/package.json`.**
> –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–π—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `package.json` –≤—Ä—É—á–Ω—É—é –±–µ–∑ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `BUILDS.txt`.
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run release:prepare` ‚Äî –æ–Ω –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
> –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –±—ã–ª–∞ –ø–æ–¥–Ω—è—Ç–∞ –≤—Ä—É—á–Ω—É—é –±–µ–∑ BUILDS.txt ‚Äî —ç—Ç–æ –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä—É—é –ø–æ—Ç–æ–º –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é.

### –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ "—Ñ—É–ª-–ø—É—à":

- –æ–±–Ω–æ–≤–ª—è–π—Ç–µ `BUILDS.txt` (—á–µ—Ä–µ–∑ `npm run release:prepare`)
- —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ `DEVLOG.md` (–≤—Ö–æ–¥–∏—Ç –≤ `release:prepare`, –º–æ–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ `npm run devlog:sync`)

```md
## 1.0.004

- Date: 2025-03-17
- Status: released
- Changes:
  1. Short description of the change.
```

### –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
npm run deploy:all
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:

1. –°–æ–±–µ—Ä–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (`npm run build` –≤ `frontend/`)
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ FTP (—á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω Vite)
3. –ó–∞–≥—Ä—É–∑–∏—Ç –±—ç–∫–µ–Ω–¥ –Ω–∞ FTP

### –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
npm run deploy:frontend
# –∏–ª–∏
npm run build
```

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ FTP –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏.

### –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥–∞

```bash
npm run deploy:backend
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Frontend

–§–∞–π–ª: `secrets/ftp.json` (—Å–µ–∫—Ü–∏—è `frontend`)

```json
{
  "frontend": {
    "host": "your-ftp-host.com",
    "user": "your-username",
    "password": "your-password",
    "port": 21,
    "localRoot": "./dist",
    "remoteRoot": "/phi.nagiyev.com",
    "secure": true
  }
}
```

### Backend

–§–∞–π–ª: `secrets/ftp.json` (—Å–µ–∫—Ü–∏—è `backend`)

```json
{
  "backend": {
    "host": "your-ftp-host.com",
    "user": "your-username",
    "password": "your-password",
    "port": 21,
    "localRoot": ".",
    "remoteRoot": "/api.phi.nagiyev.com",
    "secure": true
  }
}
```

### GitHub Actions (—Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è git deploy)

`/.github/workflows/deploy-frontend.yml`:

- `FRONTEND_FTP_HOST`
- `FRONTEND_FTP_USER`
- `FRONTEND_FTP_PASS`
- `FRONTEND_FTP_PORT` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ–±—ã—á–Ω–æ `21`)
- `FRONTEND_FTP_REMOTE_ROOT` (–¥–ª—è –ø—Ä–æ–¥–∞: `/phi.nagiyev.com`)

`/.github/workflows/deploy-backend.yml`:

- `BACKEND_FTP_HOST`
- `BACKEND_FTP_USER`
- `BACKEND_FTP_PASS`
- `BACKEND_FTP_PORT` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ–±—ã—á–Ω–æ `21`)
- `BACKEND_FTP_REMOTE_ROOT` (–¥–ª—è –ø—Ä–æ–¥–∞: `/api.phi.nagiyev.com`)

## –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã

### Frontend

- `.git/**`
- `.gitignore`
- `.DS_Store`
- `node_modules/**`

### Backend

- `.git/**`
- `.gitignore`
- `.DS_Store`
- `node_modules/**`
- `vendor/**`
- `.env`
- `deploy.js`
- `ftp-config.example.json`
- `error.log`
- `test-connection.php`
- `config-example.txt`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –§–∞–π–ª `secrets/ftp.json` —Å–æ–¥–µ—Ä–∂–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`. –û–Ω –Ω–µ –±—É–¥–µ—Ç –∫–æ–º–º–∏—Ç–∏—Ç—å—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ FTP

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ `secrets/ftp.json`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π—Ä–≤–æ–ª–∞

### –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `frontend/dist/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—É—Ç–∏ `remoteRoot` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ FTP-—Å–µ—Ä–≤–µ—Ä–µ

### –ú–æ–¥—É–ª—å ftp-deploy –Ω–µ –Ω–∞–π–¥–µ–Ω

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```
